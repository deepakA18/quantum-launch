{"abi":[{"type":"function","name":"MAX_PRICE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MIN_PRICE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"Q96","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"SCALE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"calculatePayout","inputs":[{"name":"userTokens","type":"uint256","internalType":"uint256"},{"name":"totalWinningTokens","type":"uint256","internalType":"uint256"},{"name":"totalPayout","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"payout","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"calculatePriceFromReserves","inputs":[{"name":"creditsReserve","type":"uint256","internalType":"uint256"},{"name":"tokensReserve","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"price","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"calculateRefund","inputs":[{"name":"totalCredits","type":"uint256","internalType":"uint256"},{"name":"usedCredits","type":"uint256","internalType":"uint256"},{"name":"refundRate","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"refund","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"calculateTokensOut","inputs":[{"name":"creditsIn","type":"uint256","internalType":"uint256"},{"name":"creditsReserve","type":"uint256","internalType":"uint256"},{"name":"tokensReserve","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"tokensOut","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"checkSlippage","inputs":[{"name":"expectedAmount","type":"uint256","internalType":"uint256"},{"name":"actualAmount","type":"uint256","internalType":"uint256"},{"name":"maxSlippageBps","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"isAcceptable","type":"bool","internalType":"bool"}],"stateMutability":"pure"},{"type":"function","name":"getLiquidityForAmounts","inputs":[{"name":"amount0","type":"uint256","internalType":"uint256"},{"name":"amount1","type":"uint256","internalType":"uint256"},{"name":"sqrtPriceX96","type":"uint160","internalType":"uint160"}],"outputs":[{"name":"liquidity","type":"uint128","internalType":"uint128"}],"stateMutability":"pure"},{"type":"function","name":"priceToSqrtPriceX96","inputs":[{"name":"price","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"sqrtPriceX96","type":"uint160","internalType":"uint160"}],"stateMutability":"pure"},{"type":"function","name":"safeAdd","inputs":[{"name":"a","type":"uint256","internalType":"uint256"},{"name":"b","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"safeSub","inputs":[{"name":"a","type":"uint256","internalType":"uint256"},{"name":"b","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"sqrt","inputs":[{"name":"x","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"result","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"sqrtPriceX96ToPrice","inputs":[{"name":"sqrtPriceX96","type":"uint160","internalType":"uint160"}],"outputs":[{"name":"price","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"error","name":"MathUtils_InsufficientLiquidity","inputs":[]},{"type":"error","name":"MathUtils_InvalidPrice","inputs":[]},{"type":"error","name":"MathUtils_Overflow","inputs":[]},{"type":"error","name":"MathUtils_SlippageExceeded","inputs":[]}],"bytecode":{"object":"0x610e4361004d600b8282823980515f1a6073146041577f4e487b71000000000000000000000000000000000000000000000000000000005f525f60045260245ffd5b305f52607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100fe575f3560e01c806389c8e276116100a0578063d793618d1161006f578063d793618d146102dc578063e6cb90131461030c578063eced55261461033c578063f0f3d70c1461035a576100fe565b806389c8e2761461022e578063a293d1e81461025e578063aa52cba71461028e578063ad9f20a6146102be576100fe565b80630caee2ca116100dc5780630caee2ca1461018057806340792465146101b05780636300c147146101ce578063677342ce146101fe576100fe565b806301c11d96146101025780630818ec8a146101205780630c4ce59314610150575b5f80fd5b61010a61038a565b60405161011791906109db565b60405180910390f35b61013a60048036038101906101359190610a22565b6103a0565b60405161014791906109db565b60405180910390f35b61016a60048036038101906101659190610a22565b61048c565b6040516101779190610a8c565b60405180910390f35b61019a60048036038101906101959190610a22565b6104c7565b6040516101a791906109db565b60405180910390f35b6101b86104ec565b6040516101c591906109db565b60405180910390f35b6101e860048036038101906101e39190610aa5565b6104fd565b6040516101f591906109db565b60405180910390f35b61021860048036038101906102139190610ae3565b610568565b60405161022591906109db565b60405180910390f35b61024860048036038101906102439190610a22565b6105c3565b60405161025591906109db565b60405180910390f35b61027860048036038101906102739190610aa5565b61063a565b60405161028591906109db565b60405180910390f35b6102a860048036038101906102a39190610b57565b610689565b6040516102b591906109db565b60405180910390f35b6102c66106f9565b6040516102d391906109db565b60405180910390f35b6102f660048036038101906102f19190610ae3565b6106fe565b6040516103039190610b91565b60405180910390f35b61032660048036038101906103219190610aa5565b610806565b60405161033391906109db565b60405180910390f35b610344610851565b60405161035191906109db565b60405180910390f35b610374600480360381019061036f9190610baa565b61085d565b6040516103819190610c24565b60405180910390f35b6fffffffffffffffffffffffffffffffff801681565b5f808314806103ae57505f82145b156103e5576040517f6834e32600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f6103f285846001610900565b90505f85856104019190610c6a565b90505f810361043c576040517f6834e32600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b80826104489190610cca565b9250838310610483576040517f6834e32600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b50509392505050565b5f83831061049d57600190506104c0565b5f6104b684866104ad9190610cfa565b61271087610900565b9050828111159150505b9392505050565b5f8083036104d7575f90506104e5565b6104e2848385610900565b90505b9392505050565b6c0100000000000000000000000081565b5f80820361050e5760019050610562565b61052183670de0b6b3a764000084610900565b90506fffffffffffffffffffffffffffffffff8016811115610553576fffffffffffffffffffffffffffffffff801690505b600181101561056157600190505b5b92915050565b5f808203610578575f90506105be565b8190505f60018084901c61058c9190610c6a565b90505b818110156105bc5780915060018182856105a99190610cca565b6105b39190610c6a565b901c905061058f565b505b919050565b5f838311156105fe576040517f324cc63e00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f838561060b9190610cfa565b90505f6106218585670de0b6b3a7640000610900565b9050808261062f9190610c6a565b925050509392505050565b5f82821115610675576040517f324cc63e00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b81836106819190610cfa565b905092915050565b5f806106cf8373ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000610900565b90506106f181670de0b6b3a76400006c01000000000000000000000000610900565b915050919050565b600181565b5f8061070983610568565b9050610733816c0100000000000000000000000061072e670de0b6b3a7640000610568565b610900565b91506401000276a38273ffffffffffffffffffffffffffffffffffffffff161015610793576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078a90610d87565b60405180910390fd5b73fffd8963efd1fc6a506488495d951d5263988d268273ffffffffffffffffffffffffffffffffffffffff161115610800576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107f790610def565b60405180910390fd5b50919050565b5f80828401905083811015610847576040517f324cc63e00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8091505092915050565b670de0b6b3a764000081565b5f808273ffffffffffffffffffffffffffffffffffffffff1603610883575f90506108f9565b5f6108b2858473ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000610900565b90505f6108e3856c010000000000000000000000008673ffffffffffffffffffffffffffffffffffffffff16610900565b90508082106108f257806108f4565b815b925050505b9392505050565b5f8083850290505f801985870982811083820303915050808411610922575f80fd5b5f810361093557838204925050506109bc565b5f8486880990508281118203915080830392505f85865f0316905080860495508084049350600181825f0304019050808302841793505f600287600302189050808702600203810290508087026002038102905080870260020381029050808702600203810290508087026002038102905080870260020381029050808502955050505050505b9392505050565b5f819050919050565b6109d5816109c3565b82525050565b5f6020820190506109ee5f8301846109cc565b92915050565b5f80fd5b610a01816109c3565b8114610a0b575f80fd5b50565b5f81359050610a1c816109f8565b92915050565b5f805f60608486031215610a3957610a386109f4565b5b5f610a4686828701610a0e565b9350506020610a5786828701610a0e565b9250506040610a6886828701610a0e565b9150509250925092565b5f8115159050919050565b610a8681610a72565b82525050565b5f602082019050610a9f5f830184610a7d565b92915050565b5f8060408385031215610abb57610aba6109f4565b5b5f610ac885828601610a0e565b9250506020610ad985828601610a0e565b9150509250929050565b5f60208284031215610af857610af76109f4565b5b5f610b0584828501610a0e565b91505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b610b3681610b0e565b8114610b40575f80fd5b50565b5f81359050610b5181610b2d565b92915050565b5f60208284031215610b6c57610b6b6109f4565b5b5f610b7984828501610b43565b91505092915050565b610b8b81610b0e565b82525050565b5f602082019050610ba45f830184610b82565b92915050565b5f805f60608486031215610bc157610bc06109f4565b5b5f610bce86828701610a0e565b9350506020610bdf86828701610a0e565b9250506040610bf086828701610b43565b9150509250925092565b5f6fffffffffffffffffffffffffffffffff82169050919050565b610c1e81610bfa565b82525050565b5f602082019050610c375f830184610c15565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610c74826109c3565b9150610c7f836109c3565b9250828201905080821115610c9757610c96610c3d565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f610cd4826109c3565b9150610cdf836109c3565b925082610cef57610cee610c9d565b5b828204905092915050565b5f610d04826109c3565b9150610d0f836109c3565b9250828203905081811115610d2757610d26610c3d565b5b92915050565b5f82825260208201905092915050565b7f507269636520746f6f206c6f77000000000000000000000000000000000000005f82015250565b5f610d71600d83610d2d565b9150610d7c82610d3d565b602082019050919050565b5f6020820190508181035f830152610d9e81610d65565b9050919050565b7f507269636520746f6f20686967680000000000000000000000000000000000005f82015250565b5f610dd9600e83610d2d565b9150610de482610da5565b602082019050919050565b5f6020820190508181035f830152610e0681610dcd565b905091905056fea2646970667358221220ee64bcc73d6bad11988dbe57f41b73150d73548094f71c1822855a4191d198e464736f6c634300081a0033","sourceMap":"291:7678:84:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600436106100fe575f3560e01c806389c8e276116100a0578063d793618d1161006f578063d793618d146102dc578063e6cb90131461030c578063eced55261461033c578063f0f3d70c1461035a576100fe565b806389c8e2761461022e578063a293d1e81461025e578063aa52cba71461028e578063ad9f20a6146102be576100fe565b80630caee2ca116100dc5780630caee2ca1461018057806340792465146101b05780636300c147146101ce578063677342ce146101fe576100fe565b806301c11d96146101025780630818ec8a146101205780630c4ce59314610150575b5f80fd5b61010a61038a565b60405161011791906109db565b60405180910390f35b61013a60048036038101906101359190610a22565b6103a0565b60405161014791906109db565b60405180910390f35b61016a60048036038101906101659190610a22565b61048c565b6040516101779190610a8c565b60405180910390f35b61019a60048036038101906101959190610a22565b6104c7565b6040516101a791906109db565b60405180910390f35b6101b86104ec565b6040516101c591906109db565b60405180910390f35b6101e860048036038101906101e39190610aa5565b6104fd565b6040516101f591906109db565b60405180910390f35b61021860048036038101906102139190610ae3565b610568565b60405161022591906109db565b60405180910390f35b61024860048036038101906102439190610a22565b6105c3565b60405161025591906109db565b60405180910390f35b61027860048036038101906102739190610aa5565b61063a565b60405161028591906109db565b60405180910390f35b6102a860048036038101906102a39190610b57565b610689565b6040516102b591906109db565b60405180910390f35b6102c66106f9565b6040516102d391906109db565b60405180910390f35b6102f660048036038101906102f19190610ae3565b6106fe565b6040516103039190610b91565b60405180910390f35b61032660048036038101906103219190610aa5565b610806565b60405161033391906109db565b60405180910390f35b610344610851565b60405161035191906109db565b60405180910390f35b610374600480360381019061036f9190610baa565b61085d565b6040516103819190610c24565b60405180910390f35b6fffffffffffffffffffffffffffffffff801681565b5f808314806103ae57505f82145b156103e5576040517f6834e32600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f6103f285846001610900565b90505f85856104019190610c6a565b90505f810361043c576040517f6834e32600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b80826104489190610cca565b9250838310610483576040517f6834e32600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b50509392505050565b5f83831061049d57600190506104c0565b5f6104b684866104ad9190610cfa565b61271087610900565b9050828111159150505b9392505050565b5f8083036104d7575f90506104e5565b6104e2848385610900565b90505b9392505050565b6c0100000000000000000000000081565b5f80820361050e5760019050610562565b61052183670de0b6b3a764000084610900565b90506fffffffffffffffffffffffffffffffff8016811115610553576fffffffffffffffffffffffffffffffff801690505b600181101561056157600190505b5b92915050565b5f808203610578575f90506105be565b8190505f60018084901c61058c9190610c6a565b90505b818110156105bc5780915060018182856105a99190610cca565b6105b39190610c6a565b901c905061058f565b505b919050565b5f838311156105fe576040517f324cc63e00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f838561060b9190610cfa565b90505f6106218585670de0b6b3a7640000610900565b9050808261062f9190610c6a565b925050509392505050565b5f82821115610675576040517f324cc63e00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b81836106819190610cfa565b905092915050565b5f806106cf8373ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000610900565b90506106f181670de0b6b3a76400006c01000000000000000000000000610900565b915050919050565b600181565b5f8061070983610568565b9050610733816c0100000000000000000000000061072e670de0b6b3a7640000610568565b610900565b91506401000276a38273ffffffffffffffffffffffffffffffffffffffff161015610793576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078a90610d87565b60405180910390fd5b73fffd8963efd1fc6a506488495d951d5263988d268273ffffffffffffffffffffffffffffffffffffffff161115610800576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107f790610def565b60405180910390fd5b50919050565b5f80828401905083811015610847576040517f324cc63e00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8091505092915050565b670de0b6b3a764000081565b5f808273ffffffffffffffffffffffffffffffffffffffff1603610883575f90506108f9565b5f6108b2858473ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000610900565b90505f6108e3856c010000000000000000000000008673ffffffffffffffffffffffffffffffffffffffff16610900565b90508082106108f257806108f4565b815b925050505b9392505050565b5f8083850290505f801985870982811083820303915050808411610922575f80fd5b5f810361093557838204925050506109bc565b5f8486880990508281118203915080830392505f85865f0316905080860495508084049350600181825f0304019050808302841793505f600287600302189050808702600203810290508087026002038102905080870260020381029050808702600203810290508087026002038102905080870260020381029050808502955050505050505b9392505050565b5f819050919050565b6109d5816109c3565b82525050565b5f6020820190506109ee5f8301846109cc565b92915050565b5f80fd5b610a01816109c3565b8114610a0b575f80fd5b50565b5f81359050610a1c816109f8565b92915050565b5f805f60608486031215610a3957610a386109f4565b5b5f610a4686828701610a0e565b9350506020610a5786828701610a0e565b9250506040610a6886828701610a0e565b9150509250925092565b5f8115159050919050565b610a8681610a72565b82525050565b5f602082019050610a9f5f830184610a7d565b92915050565b5f8060408385031215610abb57610aba6109f4565b5b5f610ac885828601610a0e565b9250506020610ad985828601610a0e565b9150509250929050565b5f60208284031215610af857610af76109f4565b5b5f610b0584828501610a0e565b91505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b610b3681610b0e565b8114610b40575f80fd5b50565b5f81359050610b5181610b2d565b92915050565b5f60208284031215610b6c57610b6b6109f4565b5b5f610b7984828501610b43565b91505092915050565b610b8b81610b0e565b82525050565b5f602082019050610ba45f830184610b82565b92915050565b5f805f60608486031215610bc157610bc06109f4565b5b5f610bce86828701610a0e565b9350506020610bdf86828701610a0e565b9250506040610bf086828701610b43565b9150509250925092565b5f6fffffffffffffffffffffffffffffffff82169050919050565b610c1e81610bfa565b82525050565b5f602082019050610c375f830184610c15565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610c74826109c3565b9150610c7f836109c3565b9250828201905080821115610c9757610c96610c3d565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f610cd4826109c3565b9150610cdf836109c3565b925082610cef57610cee610c9d565b5b828204905092915050565b5f610d04826109c3565b9150610d0f836109c3565b9250828203905081811115610d2757610d26610c3d565b5b92915050565b5f82825260208201905092915050565b7f507269636520746f6f206c6f77000000000000000000000000000000000000005f82015250565b5f610d71600d83610d2d565b9150610d7c82610d3d565b602082019050919050565b5f6020820190508181035f830152610d9e81610d65565b9050919050565b7f507269636520746f6f20686967680000000000000000000000000000000000005f82015250565b5f610dd9600e83610d2d565b9150610de482610da5565b602082019050919050565b5f6020820190508181035f830152610e0681610dcd565b905091905056fea2646970667358221220ee64bcc73d6bad11988dbe57f41b73150d73548094f71c1822855a4191d198e464736f6c634300081a0033","sourceMap":"291:7678:84:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;478:53;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;1242:699;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;4681:427;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;5494:317;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;701:37;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;2191:449;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;4045:306;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;6212:427;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;7820:146;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;3605:290;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;596:37;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;2824:605;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;7531:211;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;385:36;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;6908:549;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;478:53;514:17;478:53;;;:::o;1242:699::-;1381:17;1436:1;1418:14;:19;:41;;;;1458:1;1441:13;:18;1418:41;1414:112;;;1482:33;;;;;;;;;;;;;;1414:112;1586:17;1606:44;1622:9;1633:13;1648:1;1606:15;:44::i;:::-;1586:64;;1660:19;1699:9;1682:14;:26;;;;:::i;:::-;1660:48;;1738:1;1723:11;:16;1719:62;;1748:33;;;;;;;;;;;;;;1719:62;1816:11;1804:9;:23;;;;:::i;:::-;1792:35;;1855:13;1842:9;:26;1838:97;;1891:33;;;;;;;;;;;;;;1838:97;1404:537;;1242:699;;;;;:::o;4681:427::-;4819:17;4872:14;4856:12;:30;4852:108;;4909:4;4902:11;;;;4852:108;4970:16;4989:69;5022:12;5005:14;:29;;;;:::i;:::-;5036:5;5043:14;4989:15;:69::i;:::-;4970:88;;5087:14;5075:8;:26;;5068:33;;;4681:427;;;;;;:::o;5494:317::-;5633:14;5689:1;5667:18;:23;5663:62;;5713:1;5706:8;;;;5663:62;5744:60;5760:10;5772:11;5785:18;5744:15;:60::i;:::-;5735:69;;5494:317;;;;;;:::o;701:37::-;731:7;701:37;:::o;2191:449::-;2319:13;2369:1;2352:13;:18;2348:65;;632:1;2386:16;;;;2348:65;2479:53;2495:14;417:4;2518:13;2479:15;:53::i;:::-;2471:61;;514:17;2555:9;;2547:5;:17;2543:40;;;514:17;2574:9;;2566:17;;2543:40;632:1;2597:5;:17;2593:40;;;632:1;2616:17;;2593:40;2191:449;;;;;:::o;4045:306::-;4091:14;4126:1;4121;:6;4117:20;;4136:1;4129:8;;;;4117:20;4182:1;4173:10;;4193:9;4216:1;4211;4206;:6;;4205:12;;;;:::i;:::-;4193:24;;4257:88;4268:6;4264:1;:10;4257:88;;;4299:1;4290:10;;4333:1;4327;4323;4319;:5;;;;:::i;:::-;:9;;;;:::i;:::-;4318:16;;4314:20;;4257:88;;;4107:244;4045:306;;;;:::o;6212:427::-;6345:14;6393:12;6379:11;:26;6375:59;;;6414:20;;;;;;;;;;;;;;6375:59;6445:21;6484:11;6469:12;:26;;;;:::i;:::-;6445:50;;6505:25;6533:47;6549:11;6562:10;417:4;6533:15;:47::i;:::-;6505:75;;6615:17;6599:13;:33;;;;:::i;:::-;6590:42;;6365:274;;6212:427;;;;;:::o;7820:146::-;7880:7;7907:1;7903;:5;7899:38;;;7917:20;;;;;;;;;;;;;;7899:38;7958:1;7954;:5;;;;:::i;:::-;7947:12;;7820:146;;;;:::o;3605:290::-;3677:13;3742:19;3764:66;3788:12;3780:21;;3811:12;3803:21;;731:7;3764:15;:66::i;:::-;3742:88;;3848:40;3864:11;417:4;731:7;3848:15;:40::i;:::-;3840:48;;3692:203;3605:290;;;:::o;596:37::-;632:1;596:37;:::o;2824:605::-;2889:20;3069:17;3089:11;3094:5;3089:4;:11::i;:::-;3069:31;;3170:44;3186:9;731:7;3202:11;417:4;3202;:11::i;:::-;3170:15;:44::i;:::-;3147:68;;3292:10;3276:12;:26;;;;3268:52;;;;;;;;;;;;:::i;:::-;;;;;;;;;3354:49;3338:12;:65;;;;3330:92;;;;;;;;;;;;:::i;:::-;;;;;;;;;2911:518;2824:605;;;:::o;7531:211::-;7591:7;7634:9;7650:1;7646;:5;7634:17;;7673:1;7669;:5;7665:38;;;7683:20;;;;;;;;;;;;;;7665:38;7724:1;7717:8;;;7531:211;;;;:::o;385:36::-;417:4;385:36;:::o;6908:549::-;7041:17;7094:1;7078:12;:17;;;7074:31;;7104:1;7097:8;;;;7074:31;7231:18;7252:43;7268:7;7277:12;7252:43;;731:7;7252:15;:43::i;:::-;7231:64;;7305:18;7326:43;7342:7;731;7356:12;7326:43;;:15;:43::i;:::-;7305:64;;7413:10;7400;:23;:49;;7439:10;7400:49;;;7426:10;7400:49;7380:70;;7064:393;;6908:549;;;;;;:::o;741:4141:54:-;823:14;1196:13;1216:1;1212;:5;1196:21;;1276:13;1417:1;1413:6;1410:1;1407;1400:20;1473:5;1469:2;1466:13;1458:5;1454:2;1450:14;1446:34;1437:43;;1372:122;1633:5;1619:11;:19;1611:28;;;;;;1729:1;1720:5;:10;1716:177;;1818:11;1811:5;1807:23;1797:33;;1865:13;;;;1716:177;2193:17;2293:11;2290:1;2287;2280:25;2267:38;;2468:5;2457:9;2454:20;2447:5;2443:32;2434:41;;2512:9;2505:5;2501:21;2492:30;;2701:12;2736:11;2721;2717:1;:15;2716:31;2701:46;;2886:4;2873:11;2869:22;2854:37;;3040:4;3033:5;3029:16;3020:25;;3334:1;3327:4;3320;3317:1;3313:12;3309:23;3305:31;3297:39;;3380:4;3372:5;:12;3363:21;;;;3742:11;3776:1;3761:11;3757:1;:15;3756:21;3742:35;;4033:3;4019:11;:17;4015:1;:21;4008:28;;;;4095:3;4081:11;:17;4077:1;:21;4070:28;;;;4158:3;4144:11;:17;4140:1;:21;4133:28;;;;4221:3;4207:11;:17;4203:1;:21;4196:28;;;;4284:3;4270:11;:17;4266:1;:21;4259:28;;;;4348:3;4334:11;:17;4330:1;:21;4323:28;;;;4835:3;4827:5;:11;4818:20;;4852:13;;;;;741:4141;;;;;;:::o;7:77:89:-;44:7;73:5;62:16;;7:77;;;:::o;90:126::-;185:24;203:5;185:24;:::i;:::-;180:3;173:37;90:126;;:::o;222:238::-;323:4;361:2;350:9;346:18;338:26;;374:79;450:1;439:9;435:17;426:6;374:79;:::i;:::-;222:238;;;;:::o;547:117::-;656:1;653;646:12;793:122;866:24;884:5;866:24;:::i;:::-;859:5;856:35;846:63;;905:1;902;895:12;846:63;793:122;:::o;921:139::-;967:5;1005:6;992:20;983:29;;1021:33;1048:5;1021:33;:::i;:::-;921:139;;;;:::o;1066:619::-;1143:6;1151;1159;1208:2;1196:9;1187:7;1183:23;1179:32;1176:119;;;1214:79;;:::i;:::-;1176:119;1334:1;1359:53;1404:7;1395:6;1384:9;1380:22;1359:53;:::i;:::-;1349:63;;1305:117;1461:2;1487:53;1532:7;1523:6;1512:9;1508:22;1487:53;:::i;:::-;1477:63;;1432:118;1589:2;1615:53;1660:7;1651:6;1640:9;1636:22;1615:53;:::i;:::-;1605:63;;1560:118;1066:619;;;;;:::o;1691:90::-;1725:7;1768:5;1761:13;1754:21;1743:32;;1691:90;;;:::o;1787:117::-;1876:21;1891:5;1876:21;:::i;:::-;1871:3;1864:34;1787:117;;:::o;1910:226::-;2005:4;2043:2;2032:9;2028:18;2020:26;;2056:73;2126:1;2115:9;2111:17;2102:6;2056:73;:::i;:::-;1910:226;;;;:::o;2142:474::-;2210:6;2218;2267:2;2255:9;2246:7;2242:23;2238:32;2235:119;;;2273:79;;:::i;:::-;2235:119;2393:1;2418:53;2463:7;2454:6;2443:9;2439:22;2418:53;:::i;:::-;2408:63;;2364:117;2520:2;2546:53;2591:7;2582:6;2571:9;2567:22;2546:53;:::i;:::-;2536:63;;2491:118;2142:474;;;;;:::o;2622:329::-;2681:6;2730:2;2718:9;2709:7;2705:23;2701:32;2698:119;;;2736:79;;:::i;:::-;2698:119;2856:1;2881:53;2926:7;2917:6;2906:9;2902:22;2881:53;:::i;:::-;2871:63;;2827:117;2622:329;;;;:::o;2957:126::-;2994:7;3034:42;3027:5;3023:54;3012:65;;2957:126;;;:::o;3089:122::-;3162:24;3180:5;3162:24;:::i;:::-;3155:5;3152:35;3142:63;;3201:1;3198;3191:12;3142:63;3089:122;:::o;3217:139::-;3263:5;3301:6;3288:20;3279:29;;3317:33;3344:5;3317:33;:::i;:::-;3217:139;;;;:::o;3362:329::-;3421:6;3470:2;3458:9;3449:7;3445:23;3441:32;3438:119;;;3476:79;;:::i;:::-;3438:119;3596:1;3621:53;3666:7;3657:6;3646:9;3642:22;3621:53;:::i;:::-;3611:63;;3567:117;3362:329;;;;:::o;3697:126::-;3792:24;3810:5;3792:24;:::i;:::-;3787:3;3780:37;3697:126;;:::o;3829:238::-;3930:4;3968:2;3957:9;3953:18;3945:26;;3981:79;4057:1;4046:9;4042:17;4033:6;3981:79;:::i;:::-;3829:238;;;;:::o;4073:619::-;4150:6;4158;4166;4215:2;4203:9;4194:7;4190:23;4186:32;4183:119;;;4221:79;;:::i;:::-;4183:119;4341:1;4366:53;4411:7;4402:6;4391:9;4387:22;4366:53;:::i;:::-;4356:63;;4312:117;4468:2;4494:53;4539:7;4530:6;4519:9;4515:22;4494:53;:::i;:::-;4484:63;;4439:118;4596:2;4622:53;4667:7;4658:6;4647:9;4643:22;4622:53;:::i;:::-;4612:63;;4567:118;4073:619;;;;;:::o;4698:118::-;4735:7;4775:34;4768:5;4764:46;4753:57;;4698:118;;;:::o;4822:126::-;4917:24;4935:5;4917:24;:::i;:::-;4912:3;4905:37;4822:126;;:::o;4954:238::-;5055:4;5093:2;5082:9;5078:18;5070:26;;5106:79;5182:1;5171:9;5167:17;5158:6;5106:79;:::i;:::-;4954:238;;;;:::o;5198:180::-;5246:77;5243:1;5236:88;5343:4;5340:1;5333:15;5367:4;5364:1;5357:15;5384:191;5424:3;5443:20;5461:1;5443:20;:::i;:::-;5438:25;;5477:20;5495:1;5477:20;:::i;:::-;5472:25;;5520:1;5517;5513:9;5506:16;;5541:3;5538:1;5535:10;5532:36;;;5548:18;;:::i;:::-;5532:36;5384:191;;;;:::o;5581:180::-;5629:77;5626:1;5619:88;5726:4;5723:1;5716:15;5750:4;5747:1;5740:15;5767:185;5807:1;5824:20;5842:1;5824:20;:::i;:::-;5819:25;;5858:20;5876:1;5858:20;:::i;:::-;5853:25;;5897:1;5887:35;;5902:18;;:::i;:::-;5887:35;5944:1;5941;5937:9;5932:14;;5767:185;;;;:::o;5958:194::-;5998:4;6018:20;6036:1;6018:20;:::i;:::-;6013:25;;6052:20;6070:1;6052:20;:::i;:::-;6047:25;;6096:1;6093;6089:9;6081:17;;6120:1;6114:4;6111:11;6108:37;;;6125:18;;:::i;:::-;6108:37;5958:194;;;;:::o;6158:169::-;6242:11;6276:6;6271:3;6264:19;6316:4;6311:3;6307:14;6292:29;;6158:169;;;;:::o;6333:163::-;6473:15;6469:1;6461:6;6457:14;6450:39;6333:163;:::o;6502:366::-;6644:3;6665:67;6729:2;6724:3;6665:67;:::i;:::-;6658:74;;6741:93;6830:3;6741:93;:::i;:::-;6859:2;6854:3;6850:12;6843:19;;6502:366;;;:::o;6874:419::-;7040:4;7078:2;7067:9;7063:18;7055:26;;7127:9;7121:4;7117:20;7113:1;7102:9;7098:17;7091:47;7155:131;7281:4;7155:131;:::i;:::-;7147:139;;6874:419;;;:::o;7299:164::-;7439:16;7435:1;7427:6;7423:14;7416:40;7299:164;:::o;7469:366::-;7611:3;7632:67;7696:2;7691:3;7632:67;:::i;:::-;7625:74;;7708:93;7797:3;7708:93;:::i;:::-;7826:2;7821:3;7817:12;7810:19;;7469:366;;;:::o;7841:419::-;8007:4;8045:2;8034:9;8030:18;8022:26;;8094:9;8088:4;8084:20;8080:1;8069:9;8065:17;8058:47;8122:131;8248:4;8122:131;:::i;:::-;8114:139;;7841:419;;;:::o","linkReferences":{}},"methodIdentifiers":{"MAX_PRICE()":"01c11d96","MIN_PRICE()":"ad9f20a6","Q96()":"40792465","SCALE()":"eced5526","calculatePayout(uint256,uint256,uint256)":"0caee2ca","calculatePriceFromReserves(uint256,uint256)":"6300c147","calculateRefund(uint256,uint256,uint256)":"89c8e276","calculateTokensOut(uint256,uint256,uint256)":"0818ec8a","checkSlippage(uint256,uint256,uint256)":"0c4ce593","getLiquidityForAmounts(uint256,uint256,uint160)":"f0f3d70c","priceToSqrtPriceX96(uint256)":"d793618d","safeAdd(uint256,uint256)":"e6cb9013","safeSub(uint256,uint256)":"a293d1e8","sqrt(uint256)":"677342ce","sqrtPriceX96ToPrice(uint160)":"aa52cba7"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"MathUtils_InsufficientLiquidity\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"MathUtils_InvalidPrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"MathUtils_Overflow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"MathUtils_SlippageExceeded\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"MAX_PRICE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_PRICE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"Q96\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SCALE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"userTokens\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalWinningTokens\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalPayout\",\"type\":\"uint256\"}],\"name\":\"calculatePayout\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"payout\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"creditsReserve\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokensReserve\",\"type\":\"uint256\"}],\"name\":\"calculatePriceFromReserves\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"totalCredits\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"usedCredits\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"refundRate\",\"type\":\"uint256\"}],\"name\":\"calculateRefund\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"refund\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"creditsIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"creditsReserve\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokensReserve\",\"type\":\"uint256\"}],\"name\":\"calculateTokensOut\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokensOut\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"expectedAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"actualAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxSlippageBps\",\"type\":\"uint256\"}],\"name\":\"checkSlippage\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"isAcceptable\",\"type\":\"bool\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount0\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount1\",\"type\":\"uint256\"},{\"internalType\":\"uint160\",\"name\":\"sqrtPriceX96\",\"type\":\"uint160\"}],\"name\":\"getLiquidityForAmounts\",\"outputs\":[{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"priceToSqrtPriceX96\",\"outputs\":[{\"internalType\":\"uint160\",\"name\":\"sqrtPriceX96\",\"type\":\"uint160\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"a\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"b\",\"type\":\"uint256\"}],\"name\":\"safeAdd\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"a\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"b\",\"type\":\"uint256\"}],\"name\":\"safeSub\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"x\",\"type\":\"uint256\"}],\"name\":\"sqrt\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"result\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint160\",\"name\":\"sqrtPriceX96\",\"type\":\"uint160\"}],\"name\":\"sqrtPriceX96ToPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Provides real AMM math, price calculations, and quantum market mechanics\",\"kind\":\"dev\",\"methods\":{\"calculatePayout(uint256,uint256,uint256)\":{\"details\":\"Determines how much each winner gets based on their share\",\"params\":{\"totalPayout\":\"Total amount available for payout\",\"totalWinningTokens\":\"Total tokens in winning proposal\",\"userTokens\":\"User's tokens in winning proposal\"},\"returns\":{\"payout\":\"User's share of the payout\"}},\"calculatePriceFromReserves(uint256,uint256)\":{\"params\":{\"creditsReserve\":\"Current credits reserve\",\"tokensReserve\":\"Current tokens reserve\"},\"returns\":{\"price\":\"Current price (credits per token)\"}},\"calculateRefund(uint256,uint256,uint256)\":{\"details\":\"Users get back their unused credits plus a portion of their used credits\",\"params\":{\"refundRate\":\"Refund rate for used credits (scaled by SCALE)\",\"totalCredits\":\"User's total credits in the decision\",\"usedCredits\":\"User's credits used in trades\"},\"returns\":{\"refund\":\"Total refund amount\"}},\"calculateTokensOut(uint256,uint256,uint256)\":{\"details\":\"Real AMM math without mocks\",\"params\":{\"creditsIn\":\"Amount of credits to trade\",\"creditsReserve\":\"Current credits reserve\",\"tokensReserve\":\"Current tokens reserve\"},\"returns\":{\"tokensOut\":\"Amount of tokens to receive\"}},\"checkSlippage(uint256,uint256,uint256)\":{\"params\":{\"actualAmount\":\"Actual amount of tokens received\",\"expectedAmount\":\"Expected amount of tokens\",\"maxSlippageBps\":\"Maximum slippage in basis points (100 = 1%)\"},\"returns\":{\"isAcceptable\":\"Whether slippage is acceptable\"}},\"getLiquidityForAmounts(uint256,uint256,uint160)\":{\"params\":{\"amount0\":\"Amount of token0\",\"amount1\":\"Amount of token1\",\"sqrtPriceX96\":\"Current sqrt price\"},\"returns\":{\"liquidity\":\"Amount of liquidity\"}},\"priceToSqrtPriceX96(uint256)\":{\"params\":{\"price\":\"Price in 18 decimal format\"},\"returns\":{\"sqrtPriceX96\":\"Sqrt price in X96 format\"}},\"sqrt(uint256)\":{\"params\":{\"x\":\"Input value\"},\"returns\":{\"result\":\"Square root of x\"}},\"sqrtPriceX96ToPrice(uint160)\":{\"params\":{\"sqrtPriceX96\":\"Sqrt price in X96 format\"},\"returns\":{\"price\":\"Price in 18 decimal format\"}}},\"title\":\"MathUtils\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"MAX_PRICE()\":{\"notice\":\"Maximum price to prevent overflow\"},\"MIN_PRICE()\":{\"notice\":\"Minimum price to prevent division by zero\"},\"Q96()\":{\"notice\":\"Q96 fixed point for Uniswap v4 compatibility\"},\"SCALE()\":{\"notice\":\"Scale factor for fixed-point arithmetic (18 decimals)\"},\"calculatePayout(uint256,uint256,uint256)\":{\"notice\":\"Calculate payout ratio for winning positions\"},\"calculatePriceFromReserves(uint256,uint256)\":{\"notice\":\"Calculate price from reserves using Uniswap v4 format\"},\"calculateRefund(uint256,uint256,uint256)\":{\"notice\":\"Calculate refund amount for losing positions\"},\"calculateTokensOut(uint256,uint256,uint256)\":{\"notice\":\"Calculate tokens out using constant product formula (x * y = k)\"},\"checkSlippage(uint256,uint256,uint256)\":{\"notice\":\"Check if slippage is within acceptable bounds\"},\"getLiquidityForAmounts(uint256,uint256,uint160)\":{\"notice\":\"Calculate the amount of liquidity for a given amount of tokens\"},\"priceToSqrtPriceX96(uint256)\":{\"notice\":\"Convert price to sqrt price X96 for Uniswap v4\"},\"safeAdd(uint256,uint256)\":{\"notice\":\"Safe addition that prevents overflow\"},\"safeSub(uint256,uint256)\":{\"notice\":\"Safe subtraction that prevents underflow\"},\"sqrt(uint256)\":{\"notice\":\"Calculate square root using Babylonian method\"},\"sqrtPriceX96ToPrice(uint160)\":{\"notice\":\"Convert sqrt price X96 to normal price\"}},\"notice\":\"Mathematical utilities for quantum market calculations\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/utils/MathUtils.sol\":\"MathUtils\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@ensdomains/=lib/v4-core/node_modules/@ensdomains/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/v4-core/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":hardhat/=lib/v4-core/node_modules/hardhat/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":solmate/=lib/v4-core/lib/solmate/\",\":v4-core/=lib/v4-core/src/\"]},\"sources\":{\"lib/v4-core/src/libraries/FullMath.sol\":{\"keccak256\":\"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52\",\"dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC\"]},\"src/utils/MathUtils.sol\":{\"keccak256\":\"0x2aec4b5b8fbc6c74d5b3cd1a87d9a29a0ea6a31a7b35e8747775ecb71f7a9ba4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://810aa1f02300eb462fa15b31efe9271c378f388cc255943347194317846a6288\",\"dweb:/ipfs/QmSWqmNBQT456ecvvRbTnyVWiKAptVxAcd2YZCLYXkMnX6\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"MathUtils_InsufficientLiquidity"},{"inputs":[],"type":"error","name":"MathUtils_InvalidPrice"},{"inputs":[],"type":"error","name":"MathUtils_Overflow"},{"inputs":[],"type":"error","name":"MathUtils_SlippageExceeded"},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_PRICE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MIN_PRICE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"Q96","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"SCALE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"userTokens","type":"uint256"},{"internalType":"uint256","name":"totalWinningTokens","type":"uint256"},{"internalType":"uint256","name":"totalPayout","type":"uint256"}],"stateMutability":"pure","type":"function","name":"calculatePayout","outputs":[{"internalType":"uint256","name":"payout","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"creditsReserve","type":"uint256"},{"internalType":"uint256","name":"tokensReserve","type":"uint256"}],"stateMutability":"pure","type":"function","name":"calculatePriceFromReserves","outputs":[{"internalType":"uint256","name":"price","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"totalCredits","type":"uint256"},{"internalType":"uint256","name":"usedCredits","type":"uint256"},{"internalType":"uint256","name":"refundRate","type":"uint256"}],"stateMutability":"pure","type":"function","name":"calculateRefund","outputs":[{"internalType":"uint256","name":"refund","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"creditsIn","type":"uint256"},{"internalType":"uint256","name":"creditsReserve","type":"uint256"},{"internalType":"uint256","name":"tokensReserve","type":"uint256"}],"stateMutability":"pure","type":"function","name":"calculateTokensOut","outputs":[{"internalType":"uint256","name":"tokensOut","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"expectedAmount","type":"uint256"},{"internalType":"uint256","name":"actualAmount","type":"uint256"},{"internalType":"uint256","name":"maxSlippageBps","type":"uint256"}],"stateMutability":"pure","type":"function","name":"checkSlippage","outputs":[{"internalType":"bool","name":"isAcceptable","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceX96","type":"uint160"}],"stateMutability":"pure","type":"function","name":"getLiquidityForAmounts","outputs":[{"internalType":"uint128","name":"liquidity","type":"uint128"}]},{"inputs":[{"internalType":"uint256","name":"price","type":"uint256"}],"stateMutability":"pure","type":"function","name":"priceToSqrtPriceX96","outputs":[{"internalType":"uint160","name":"sqrtPriceX96","type":"uint160"}]},{"inputs":[{"internalType":"uint256","name":"a","type":"uint256"},{"internalType":"uint256","name":"b","type":"uint256"}],"stateMutability":"pure","type":"function","name":"safeAdd","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"a","type":"uint256"},{"internalType":"uint256","name":"b","type":"uint256"}],"stateMutability":"pure","type":"function","name":"safeSub","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"x","type":"uint256"}],"stateMutability":"pure","type":"function","name":"sqrt","outputs":[{"internalType":"uint256","name":"result","type":"uint256"}]},{"inputs":[{"internalType":"uint160","name":"sqrtPriceX96","type":"uint160"}],"stateMutability":"pure","type":"function","name":"sqrtPriceX96ToPrice","outputs":[{"internalType":"uint256","name":"price","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"calculatePayout(uint256,uint256,uint256)":{"details":"Determines how much each winner gets based on their share","params":{"totalPayout":"Total amount available for payout","totalWinningTokens":"Total tokens in winning proposal","userTokens":"User's tokens in winning proposal"},"returns":{"payout":"User's share of the payout"}},"calculatePriceFromReserves(uint256,uint256)":{"params":{"creditsReserve":"Current credits reserve","tokensReserve":"Current tokens reserve"},"returns":{"price":"Current price (credits per token)"}},"calculateRefund(uint256,uint256,uint256)":{"details":"Users get back their unused credits plus a portion of their used credits","params":{"refundRate":"Refund rate for used credits (scaled by SCALE)","totalCredits":"User's total credits in the decision","usedCredits":"User's credits used in trades"},"returns":{"refund":"Total refund amount"}},"calculateTokensOut(uint256,uint256,uint256)":{"details":"Real AMM math without mocks","params":{"creditsIn":"Amount of credits to trade","creditsReserve":"Current credits reserve","tokensReserve":"Current tokens reserve"},"returns":{"tokensOut":"Amount of tokens to receive"}},"checkSlippage(uint256,uint256,uint256)":{"params":{"actualAmount":"Actual amount of tokens received","expectedAmount":"Expected amount of tokens","maxSlippageBps":"Maximum slippage in basis points (100 = 1%)"},"returns":{"isAcceptable":"Whether slippage is acceptable"}},"getLiquidityForAmounts(uint256,uint256,uint160)":{"params":{"amount0":"Amount of token0","amount1":"Amount of token1","sqrtPriceX96":"Current sqrt price"},"returns":{"liquidity":"Amount of liquidity"}},"priceToSqrtPriceX96(uint256)":{"params":{"price":"Price in 18 decimal format"},"returns":{"sqrtPriceX96":"Sqrt price in X96 format"}},"sqrt(uint256)":{"params":{"x":"Input value"},"returns":{"result":"Square root of x"}},"sqrtPriceX96ToPrice(uint160)":{"params":{"sqrtPriceX96":"Sqrt price in X96 format"},"returns":{"price":"Price in 18 decimal format"}}},"version":1},"userdoc":{"kind":"user","methods":{"MAX_PRICE()":{"notice":"Maximum price to prevent overflow"},"MIN_PRICE()":{"notice":"Minimum price to prevent division by zero"},"Q96()":{"notice":"Q96 fixed point for Uniswap v4 compatibility"},"SCALE()":{"notice":"Scale factor for fixed-point arithmetic (18 decimals)"},"calculatePayout(uint256,uint256,uint256)":{"notice":"Calculate payout ratio for winning positions"},"calculatePriceFromReserves(uint256,uint256)":{"notice":"Calculate price from reserves using Uniswap v4 format"},"calculateRefund(uint256,uint256,uint256)":{"notice":"Calculate refund amount for losing positions"},"calculateTokensOut(uint256,uint256,uint256)":{"notice":"Calculate tokens out using constant product formula (x * y = k)"},"checkSlippage(uint256,uint256,uint256)":{"notice":"Check if slippage is within acceptable bounds"},"getLiquidityForAmounts(uint256,uint256,uint160)":{"notice":"Calculate the amount of liquidity for a given amount of tokens"},"priceToSqrtPriceX96(uint256)":{"notice":"Convert price to sqrt price X96 for Uniswap v4"},"safeAdd(uint256,uint256)":{"notice":"Safe addition that prevents overflow"},"safeSub(uint256,uint256)":{"notice":"Safe subtraction that prevents underflow"},"sqrt(uint256)":{"notice":"Calculate square root using Babylonian method"},"sqrtPriceX96ToPrice(uint160)":{"notice":"Convert sqrt price X96 to normal price"}},"version":1}},"settings":{"remappings":["@ensdomains/=lib/v4-core/node_modules/@ensdomains/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/v4-core/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","hardhat/=lib/v4-core/node_modules/hardhat/","openzeppelin-contracts/=lib/openzeppelin-contracts/","solmate/=lib/v4-core/lib/solmate/","v4-core/=lib/v4-core/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/utils/MathUtils.sol":"MathUtils"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/v4-core/src/libraries/FullMath.sol":{"keccak256":"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2","urls":["bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52","dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC"],"license":"MIT"},"src/utils/MathUtils.sol":{"keccak256":"0x2aec4b5b8fbc6c74d5b3cd1a87d9a29a0ea6a31a7b35e8747775ecb71f7a9ba4","urls":["bzz-raw://810aa1f02300eb462fa15b31efe9271c378f388cc255943347194317846a6288","dweb:/ipfs/QmSWqmNBQT456ecvvRbTnyVWiKAptVxAcd2YZCLYXkMnX6"],"license":"MIT"}},"version":1},"id":84}